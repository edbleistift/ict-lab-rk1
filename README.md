# 1.	Введение в системное администрирование:

СРО: Проведите установку и настройку операционной системы на виртуальной машине (например, Ubuntu Server). Настройте пользователи, группы и простейшие сценарии автоматизации через cron. Подготовьте отчет с командной строкой действий и выводом системных команд.
СРОП: Практическая работа по созданию и настройке виртуальной сети в VirtualBox, установка серверных служб (например, SSH), управление пользователями и настройка прав доступа для них.

## 1. СРО: Установка и настройка операционной системы на виртуальной машине

### 1.1 Установка Ubuntu Server на виртуальной машине

1. Скачивание ISO-образа:
   - ISO-образ Ubuntu Server был скачан с официального сайта [Ubuntu](https://ubuntu.com/download/).

2. Создание новой виртуальной машины в VirtualBox:
   - Открытие VirtualBox и нажатие "Создать".
   - Имя: `edward`
   - Тип: `Linux`
   - Версия: `Ubuntu (64-bit) (или 32-bit в зависимости от вашей системы)`
   - Оперативная память: `сколько не жалко (я выделил 8)`
   - Новый виртуальный жесткий диск (VDI), объем: `по дефолту 25 ГБ, можно оставить`.

3. Настройка параметров виртуальной машины:
   - В разделе "Носители" был выбран ISO-образ Ubuntu Server.
   - В разделе "Сеть" выбрана "Сетевой мост".

4. Запуск виртуальной машины:
   - Следование инструкциям установщика:
     - Выбор языка и раскладки клавиатуры.
     - Выбор "Установить Ubuntu Server".
     - Настройка сетевых параметров (обычно DHCP).
     - Создание учетной записи пользователя и задание пароля.
     - Выбор программного обеспечения (OpenSSH server).

5. Завершение установки:
   - Дождался завершения установки и перезагрузил виртуальную машину.

### 1.2 Настройка пользователей и групп

1. Добавление нового пользователя:
```
root@edward-VM:/home/edward# sudo adduser ed
info: Добавляется пользователь «ed» ...
info: Выбор UID/GID из диапазона от 1000 до 59999 ...
info: Добавляется новая группа «ed» (1001) ...
info: Добавление нового пользователя `ed' (1001) в группу `ed (1001)' ...
info: Создаётся домашний каталог «/home/ed» ...
info: Копирование файлов из «/etc/skel» ...
Новый пароль: 
НЕУДАЧНЫЙ ПАРОЛЬ: Пароль должен содержать не менее 8 символов
Повторите ввод нового пароля: 
passwd: пароль успешно обновлён
Изменение информации о пользователе ed
Введите новое значение или нажмите ENTER для выбора значения по умолчанию
	Полное имя []: 
	Номер комнаты []: 
	Рабочий телефон []: 
	Домашний телефон []: 
	Другое []: 
Данная информация корректна? [Y/n] y
info: Adding new user `ed' to supplemental / extra groups `users' ...
info: Добавляется пользователь «ed» в группу «users» ...
root@edward-VM:/home/edward# 
```

2. Создание новой группы:
```
root@edward-VM:/home/edward# sudo groupadd edgroup
```

3. Добавление пользователя в группу:
```
root@edward-VM:/home/edward# sudo usermod -aG edgroup ed
```

1.3 Настройка автоматизации через cron
Для начала подготовим скрипт для тестирования запуска задачи. 
Создадим файл log_datetime.sh. Это простой Bash-скрипта, который записывает текущую дату и время в файл.
Я привык использовать nano:
```
root@edward-VM:/home/edward/Documents# nano log_datetime.sh
```

```                     
#!/bin/bash

# Укажите путь к файлу, в который будет записываться дата и время
LOGFILE="/home/edward/Documents/logfile.txt"

# Запись текущей даты и времени в файл
echo "Текущая дата и время: $(date)" >> "$LOGFILE"
```
Сделаем скрипт исполняемым (выдадим права):
```
chmod +x /home/edward/Documents/log_datetime.sh
```

Создадим текстовый файл в который будут записываться данные:
```
touch /home/edward/Documents/logfile.txt
```
Проверим его права на запись и выдадим в случае необходимости:
```
root@edward-VM:/home/edward/Documents# ls -l /home/edward/Documents/logfile.txt
-rw-r--r-- 1 root root 144 окт 31 21:37 /home/edward/Documents/logfile.txt
root@edward-VM:/home/edward/Documents# chmod 666 /home/edward/Documents/logfile.txt
```

Теперь окройте crontab:
```
crontab -e
```

Добавьте запись:
```
* * * * * /home/edward/Documents/log_datetime.sh
```
Сохраните изменения и закройте редактор.

Проверка работы скрипта: 
```
cat /home/edward/Documents/logfile.txt
```

Вывод:
```
root@edward-VM:/home/edward/Documents# cat /home/edward/Documents/logfile.txt
Текущая дата и время: Чт 31 окт 2024 21:36:01 +05
Текущая дата и время: Чт 31 окт 2024 21:37:01 +05
Текущая дата и время: Чт 31 окт 2024 21:38:02 +05
```

Если вывода нет, можно попробовать перезапустить cron:
```
sudo systemctl restart cron
```


# СРОП: Практическая работа по созданию и настройке виртуальной сети в VirtualBox

## Создание и настройка виртуальной сети

### 1. Создайте виртуальную сеть в VirtualBox:
- Перейдите в "Файл" -> "Настройки" -> "Сеть".
- Добавьте новую виртуальную сеть (например, "Host-Only").

### 2. Подключите виртуальную машину к созданной сети:
- В настройках виртуальной машины выберите "Сеть".
- Выберите "Сетевой адаптер 2" и установите его в режим "Host-Only Adapter".

### 3. Настройте серверные службы:
- Установите SSH-сервер, если это еще не сделано:
```
sudo apt update
sudo apt install openssh-server
```

- Убедитесь, что SSH работает:
```
root@edward-VM:/home/edward/Documents# systemctl status ssh
○ ssh.service - OpenBSD Secure Shell server
     Loaded: loaded (/usr/lib/systemd/system/ssh.service; disabled; preset: ena>
     Active: inactive (dead)
TriggeredBy: ● ssh.socket
       Docs: man:sshd(8)
             man:sshd_config(5)
lines 1-6/6 (END)
```

## Управление пользователями и настройка прав доступа:

### 1. Создайте пользователей и назначьте права:

```
sudo adduser ed
```

```
root@edward-VM:/home/edward/Documents# sudo chown ed:ed /home/edward/Documents/logfile.txt
sudo chmod 770 /home/edward/Documents/logfile.txt
```

```
root@edward-VM:/home/edward/Documents# ls -l /home/edward/Documents
итого 8
-rwxr-xr-x 1 root root 314 окт 31 21:28 log_datetime.sh
-rwxrwx--- 1 ed   ed   936 окт 31 21:48 logfile.txt
```






  
# 2.	Введение в сетевое администрирование:

## СРО: Настройте локальную сеть на двух виртуальных машинах с помощью статической и динамической IP-адресации. Настройте базовый файервол на уровне iptables и обеспечьте маршрутизацию трафика.

## СРОП: Проведите настройку и тестирование сетевого соединения между несколькими виртуальными машинами через VirtualBox, используя VLAN. Представьте отчет с анализом конфигураций и результатами сетевых проверок (ping, traceroute).

# 3.	Протоколы передачи данных и маршрутизация:

## СРО: Изучите и реализуйте маршрутизацию с использованием протоколов RIP и OSPF в Cisco Packet Tracer или GNS3. Проанализируйте различия в маршрутизации данных при добавлении нового узла в сеть.

## СРОП: Постройте сеть в Packet Tracer, реализующую статическую и динамическую маршрутизацию между несколькими узлами. Проверьте корректность маршрутов с помощью команд show ip route и предоставьте результаты.








# 4.	Управление пользователями и правами доступа:

## СРО: Настройте управление пользователями на сервере Linux. Создайте группы, назначьте им права на файлы и директории, ограничьте доступ к конфиденциальным данным с помощью команд chown и chmod.

## СРОП: Создайте несколько учетных записей с разными уровнями доступа (администратор, обычный пользователь) и продемонстрируйте, как правильно управлять их доступом к ресурсам в ОС. Приведите примеры на реальных сценариях использования прав доступа.


## СРО: Настройте управление пользователями на сервере Linux

### 1. Создание пользователей

1. Например, создайте несколько пользователей с префиксом `ed_`:

```
sudo adduser ed_test
sudo adduser ed_test_2
sudo adduser ed_admin
```

2. Создайте две группы: ed_group для обычных пользователей и ed_admin_group для администратора:
```
sudo groupadd ed_group
sudo groupadd ed_admin_group
```

3. Добавьте ed_test и ed_test_2 в группу ed_group, а ed_admin в группу ed_admin_group:
```
sudo usermod -aG ed_group ed_test
sudo usermod -aG ed_group ed_test_2
sudo usermod -aG ed_admin_group ed_admin
```

4. Создайте тестовый файл в директории Documents, который будет использоваться для назначения прав доступа:
```
touch /home/edward/Documents/testfile.txt
echo "Это тестовый файл." > /home/edward/Documents/testfile.txt
```

5. Теперь настройте права доступа для тестового файла:
```
sudo chown ed_admin:ed_admin_group /home/edward/Documents/testfile.txt
```

Установите владельца и группу:
```
sudo chown ed_admin:ed_admin_group /home/edward/Documents/testfile.txt
```

Установите права доступа:
```
sudo chmod 640 /home/edward/Documents/testfile.txt
```

Права 640 означают:
  - Владелец (администратор): чтение и запись (6)
  - Группа (ed_admin_group): чтение (4)
  - Остальные: нет прав (0)

6. Проверьте права доступа к файлу:
```
ls -l /home/edward/Documents/testfile.txt
```

Вывод:
```
edward@edward-VM:~$ ls -l /home/edward/Documents/testfile.txt
-rw-r----- 1 ed_admin ed_admin_group 34 окт 31 22:02 /home/edward/Documents/testfile.txt
```


##CРОП: Создайте несколько учетных записей с разными уровнями доступа

7. Тестирование доступа
Войдите как ed_admin и проверьте доступ к файлу:
```
ed_admin@edward-VM:~$ su - ed_admin
cat /home/edward/Documents/testfile.txt
Пароль: 
```
Вывод для пользователя ed_admin:
```
ed_admin@edward-VM:~$ cat /home/edward/Documents/testfile.txt
Это тестовый файл.
ed_admin@edward-VM:~$
```

Для остальных пользователей:
```
cat: /home/edward/Documents/testfile.txt: Отказано в доступе
```


# 5.	Файловые системы и управление дисками:

## СРО: Выполните разметку жесткого диска, создайте разделы, установите файловую систему (например, ext4), настройте монтирование разделов в ОС Linux. Проведите анализ файловых систем с помощью утилит df, du, и предоставьте результаты.

## СРОП: Настройка RAID уровня 1 или 5 на виртуальной машине с подробным отчетом о выполненных действиях и тестировании отказоустойчивости системы.



## СРО: Выполните разметку жесткого диска, создайте разделы, установите файловую систему (например, ext4), настройте монтирование разделов в ОС Linux. Проведите анализ файловых систем с помощью утилит df, du, и предоставьте результаты.

### 1. Определение дисков и их текущего состояния

Для начала необходимо определить, какие диски доступны в системе. Используйте команду:

```
sudo fdisk -l
```

### 2. Разметка жесткого диска

Выберите диск, который вы хотите разметить (например, /dev/sdb). Запустите fdisk для разметки:
```
sudo fdisk /dev/sdb
```


# 6.	Резервное копирование и восстановление данных:

## СРО: Настройте автоматизированную систему резервного копирования с использованием утилит rsync и cron. Выполните полный цикл: создание резервной копии, внесение изменений в оригинальные данные и восстановление резервной копии.

## СРОП: Создайте план резервного копирования и восстановления для серверов, опишите процессы использования инкрементальных и полных бэкапов. Проведите тестирование восстановления данных после повреждения файловой системы.



# 7.	Мониторинг и оптимизация систем:

## СРО: Настройте мониторинг системных ресурсов (процессор, оперативная память, диск) с помощью утилит htop, iotop, df и представьте анализ производительности системы за период наблюдения.

## СРОП: Установите и настройте инструмент мониторинга, такой как Zabbix или Nagios, для отслеживания состояния серверов и сетевых ресурсов. Создайте отчет с графиками и анализом.



# 8.	Виртуализация и контейнеризация:

## СРО: Установите и настройте виртуальные машины с помощью VirtualBox или VMware. Подготовьте отчет по созданию и настройке гипервизора, сетевого окружения и настройки доступа к виртуальным машинам.

## СРОП: Настройте Docker-контейнеры для развертывания веб-сервиса. Включите в отчет подробное описание процесса создания Dockerfile, сборки контейнера и проверки его работоспособности на реальном сервере.
